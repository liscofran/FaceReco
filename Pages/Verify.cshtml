@page
@model VerifyModel
@{
    ViewData["Title"] = "Verifica Volto";
    bool showMessageLink = TempData["ShowMessageLink"] != null && (bool)TempData["ShowMessageLink"];
}
@if (showMessageLink)
{
    <script>
           // Funzione per aprire una nuova scheda al centro della pagina con il messaggio
        function openMessageLinkInCenter(message) {
            var screenWidth = window.innerWidth;
            var screenHeight = window.innerHeight;

            var newTabWidth = 500;  // Imposta la larghezza della nuova scheda
            var newTabHeight = 300; // Imposta l'altezza della nuova scheda

            var left = (screenWidth - newTabWidth) / 2;
            var top = (screenHeight - newTabHeight) / 2;

            var newTab = window.open("", "_blank", `width=${newTabWidth},height=${newTabHeight},left=${left},top=${top}`);
            newTab.document.write("<p>" + message + "</p>");
            newTab.document.close();
        }

        // Chiama la funzione per aprire la nuova scheda
        openMessageLinkInCenter("@TempData["Result"]");
    </script>
}

<h1>@ViewData["Title"]</h1>

<form method="post">
    <div class="form-group">
        <br>        
            <button type="submit" class="btn btn-primary" asp-page-handler="Foto">Avvia</button>  
    </div>
</form>

<div id="myModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <p id="modalMessage"></p>
    </div>
</div>